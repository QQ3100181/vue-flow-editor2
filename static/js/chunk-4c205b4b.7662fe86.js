(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c205b4b"],{"0378":function(t,e,s){"use strict";var n=s("a3e4"),i=s.n(n);i.a},"03bd":function(t,e,s){"use strict";var n=s("51d7"),i=s.n(n);i.a},"0a49":function(t,e,s){var n=s("9b43"),i=s("626a"),o=s("4bf8"),a=s("9def"),r=s("cd1c");t.exports=function(t,e){var s=1==t,c=2==t,u=3==t,l=4==t,d=6==t,h=5==t||d,p=e||r;return function(e,r,f){for(var v,m,g=o(e),_=i(g),b=n(r,f,3),y=a(_.length),w=0,O=s?p(e,y):c?p(e,0):void 0;y>w;w++)if((h||w in _)&&(v=_[w],m=b(v,w,g),t))if(s)O[w]=m;else if(m)switch(t){case 3:return!0;case 5:return v;case 6:return w;case 2:O.push(v)}else if(l)return!1;return d?-1:u||l?l:O}}},"20d6":function(t,e,s){"use strict";var n=s("5ca1"),i=s("0a49")(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),n(n.P+n.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(o)},"2e82":function(t,e,s){},"386b":function(t,e,s){var n=s("5ca1"),i=s("79e5"),o=s("be13"),a=/"/g,r=function(t,e,s,n){var i=String(o(t)),r="<"+e;return""!==s&&(r+=" "+s+'="'+String(n).replace(a,"&quot;")+'"'),r+">"+i+"</"+e+">"};t.exports=function(t,e){var s={};s[t]=e(r),n(n.P+n.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",s)}},"386d":function(t,e,s){"use strict";var n=s("cb7c"),i=s("83a1"),o=s("5f1b");s("214f")("search",1,function(t,e,s,a){return[function(s){var n=t(this),i=void 0==s?void 0:s[e];return void 0!==i?i.call(s,n):new RegExp(s)[e](String(n))},function(t){var e=a(s,t,this);if(e.done)return e.value;var r=n(t),c=String(this),u=r.lastIndex;i(u,0)||(r.lastIndex=0);var l=o(r,c);return i(r.lastIndex,u)||(r.lastIndex=u),null===l?-1:l.index}]})},"43b8":function(t,e,s){"use strict";var n=s("6263"),i=s.n(n);i.a},"51d7":function(t,e,s){},"5dbc":function(t,e,s){var n=s("d3f4"),i=s("8b97").set;t.exports=function(t,e,s){var o,a=e.constructor;return a!==s&&"function"==typeof a&&(o=a.prototype)!==s.prototype&&n(o)&&i&&i(t,o),t}},6233:function(t,e,s){},6263:function(t,e,s){},6287:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("github-corner"),t._v(" "),s("layout",[s("workspace",{attrs:{slot:"workspace"},slot:"workspace"}),t._v(" "),s("palette",{attrs:{slot:"palette"},slot:"palette"}),t._v(" "),s("sidebar",{attrs:{slot:"sidebar"},slot:"sidebar"})],1)],1)},i=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",on:{mouseup:t.onMouseUp,mousemove:t.onMouseMove}},[s("div",{staticClass:"workspace",class:{"ws-palette-closed":!t.paletteOpened,"ws-sidebar-closed":!t.sidebarOpened},style:{right:t.separatorWidth+7+"px"}},[t._t("workspace")],2),t._v(" "),s("div",{staticClass:"palette",class:{"palette-closed":!t.paletteOpened},on:{mouseenter:function(e){t.sidbarShowed.left=!0},mouseleave:function(e){t.sidbarShowed.left=!1}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.paletteOpened,expression:"paletteOpened"}]},[t._t("palette")],2),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.sidbarShowed.left,expression:"sidbarShowed.left"}],staticClass:"sidbar-left",on:{click:t.togglePalette}},[s("i",{staticClass:"el-icon-arrow-left"})])]),t._v(" "),s("div"),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.sidebarOpened,expression:"sidebarOpened"}],staticClass:"sidebar",class:{"sidebar-closing":t.sidebarClosing},style:{width:t.separatorWidth+"px"}},[t._t("sidebar")],2),t._v(" "),s("div",{staticClass:"sidebar-separator",style:{right:t.separatorWidth+"px"},on:{mouseenter:function(e){t.sidbarShowed.right=!0},mouseleave:function(e){t.sidbarShowed.right=!1},mousedown:t.onMouseDown}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.sidbarShowed.right,expression:"sidbarShowed.right"}],staticClass:"sidbar-right",on:{click:t.toggleSidebar}},[s("i",{staticClass:"el-icon-arrow-right"})])])])},a=[],r={name:"Layout",data:function(){return{sidbarShowed:{left:!1,right:!1},paletteOpened:!0,sidebarOpened:!1,sidebarClosing:!1,separator:{width:315},moving:{active:!1}}},computed:{separatorWidth:function(){return this.sidebarOpened?this.separator.width:0}},methods:{togglePalette:function(){this.paletteOpened=!this.paletteOpened},toggleSidebar:function(){this.sidebarOpened=!this.sidebarOpened},onMouseDown:function(){this.moving.active=!0},onMouseUp:function(t){this.moving.active=!1,this.sidebarClosing&&(this.sidebarClosing=!1,this.sidebarOpened=!1)},onMouseMove:function(t){if(0!==t.buttons&&0!==t.which||(this.moving.active=!1),this.moving.active&&this.sidebarOpened){var e=t.currentTarget.offsetWidth-t.pageX;e<150?this.sidebarClosing=!0:(this.sidebarClosing=!1,e<.4*t.currentTarget.offsetWidth&&(this.separator.width=e)),this.$emit("sidebar:resize")}}}},c=r,u=(s("84aa"),s("0c7c")),l=Object(u["a"])(c,o,a,!1,null,"fa8aa59c",null),d=l.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"palette_node",style:t.data.style,attrs:{id:t.data.id,draggable:"true"},on:{dragstart:t.dragstart,dragend:t.dragend}},[s("div",{staticClass:"label",class:{label_right:t.data.iconOnRight}},[t._v(t._s(t.data.name))]),t._v(" "),s("div",{staticClass:"icon_container",class:{icon_container_right:t.data.iconOnRight}},[s("img",{staticClass:"icon",attrs:{src:t.data.icon}})]),t._v(" "),t.data.hasOutput?s("div",{staticClass:"port port_output"}):t._e(),t._v(" "),t.data.hasInput?s("div",{staticClass:"port port_input"}):t._e()])},p=[],f={name:"PaletteNode",props:{data:{type:Object,default:function(){return{id:"",name:"inject",icon:"",iconOnRight:!1,style:{height:"28px","background-color":"rgba(0, 0, 0, 0.05)"},hasInput:!1,hasOutput:!0}}}},methods:{dragstart:function(t){t.dataTransfer.setData("node_id",this.data.id),t.dataTransfer.setData("node_touch_x",t.offsetX),t.dataTransfer.setData("node_touch_y",t.offsetY)},dragend:function(t){t.dataTransfer.clearData()}}},v=f,m=(s("0378"),Object(u["a"])(v,h,p,!1,null,"5873448e",null)),g=m.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{staticClass:"grid",style:{visibility:t.visibility}},[t._l(t.gridTicks,function(e){return s("line",{key:"flow-grid-horizontal-"+e,staticClass:"horizontal",attrs:{x1:"0",x2:t.spaceSize,y1:e,y2:e,fill:"node","shape-rendering":"crispEdges",stroke:"#eee","stroke-width":"1px"}})}),t._v(" "),t._l(t.gridTicks,function(e){return s("line",{key:"flow-grid-vertical-"+e,staticClass:"vertical",attrs:{x1:e,x2:e,y1:"0",y2:t.spaceSize,fill:"node","shape-rendering":"crispEdges",stroke:"#eee","stroke-width":"1px"}})})],2)},b=[],y=(s("c5f6"),{name:"FlowGrid",props:{spaceSize:{type:Number,default:5e3},gridSize:{type:Number,default:20},visibility:{type:String,default:"visible"}},data:function(){return{}},computed:{gridTicks:function(){for(var t=[],e=0;e<this.spaceSize;e+=+this.gridSize)t.push(e);return t}}}),w=y,O=Object(u["a"])(w,_,b,!1,null,null,null),x=O.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{ref:"thisNode",staticClass:"flow-node node nodegroup",attrs:{id:t.value.id,transform:"translate("+t.x+","+t.y+")"}},[s("rect",{staticClass:"node",class:{node_selected:t.selected},attrs:{rx:"5",ry:"5",fill:t.value.style.color,width:t.width,height:t.height},on:{mouseup:t.nodeMouseUp,mousedown:t.nodeMouseDown}}),t._v(" "),s("g",{staticClass:"node_icon_group",staticStyle:{"pointer-events":"none"},attrs:{x:"0",y:"0",transform:"translate("+(t.value.iconOnRight?t.width-30:0)+",0)"}},[s("rect",{staticClass:"node_icon_shade",attrs:{x:"0",y:"0",width:"30",stroke:"node",fill:"#000","fill-opacity":"0.05",height:"30"}}),t._v(" "),s("image",{staticClass:"node_icon",attrs:{href:t.value.icon,x:"5",y:"0",width:"20",height:"30"}}),t._v(" "),s("path",{staticClass:"node_icon_shade_border",attrs:{d:"M 30 1 l 0 28","stroke-opacity":"0.1",stroke:"#000","stroke-width":"1"}})]),t._v(" "),s("text",{staticClass:"node_label",attrs:{x:"38",y:"14",dy:".35em","text-anchor":"start"}},[t._v(t._s(t.value.label))]),t._v(" "),t.value.status&&t.value.status.show?s("g",{staticClass:"node_status_group",attrs:{transform:"translate(3,"+(t.height+3)+")"}},[s("rect",{staticClass:"node_status",attrs:{x:"6",y:"1",width:"9",height:"9",rx:"2",ry:"2","stroke-width":"3"}}),t._v(" "),s("text",{staticClass:"node_status_label",attrs:{x:"20",y:"10"}},[t._v(t._s(t.value.status.label))])]):t._e(),t._v(" "),t.value.error?s("polygon",{staticClass:"node_error",staticStyle:{fill:"red",stroke:"purple","stroke-width":"1"},attrs:{points:t.width-26+",3 "+(t.width-22)+",-5 "+(t.width-18)+",3"}}):t._e(),t._v(" "),t.value.changed?s("circle",{staticClass:"node_changed",attrs:{cx:t.width-10,cy:"-1",r:"4",stroke:"black","stroke-width":"1",fill:"cyan"}}):t._e(),t._v(" "),t.value.hasInput?s("g",{ref:"inputGroup",staticClass:"port_input",attrs:{transform:"translate(-5, 10)"}},[s("rect",{staticClass:"port",class:{port_hovered:t.value.port.inputActive},attrs:{rx:"3",ry:"3",width:"10",height:"10"},on:{mousedown:function(e){return t.portMouseDown(e,t.FLOW.VIEW.PORT_TYPE_INPUT)},mouseup:function(e){return t.portMouseUp(e,t.FLOW.VIEW.PORT_TYPE_INPUT)},mouseover:function(e){return t.portMouseOver(e,t.FLOW.VIEW.PORT_TYPE_INPUT)},mouseout:function(e){return t.portMouseOut(e,t.FLOW.VIEW.PORT_TYPE_INPUT)}}})]):t._e(),t._v(" "),t.value.hasOutput?s("g",{ref:"outputGroup",staticClass:"port_output",attrs:{transform:"translate("+(t.width-5)+", 10)"}},[s("rect",{staticClass:"port",class:{port_hovered:t.value.port.outputActive},attrs:{rx:"3",ry:"3",width:"10",height:"10"},on:{mousedown:function(e){return t.portMouseDown(e,t.FLOW.VIEW.PORT_TYPE_OUTPUT)},mouseup:function(e){return t.portMouseUp(e,t.FLOW.VIEW.PORT_TYPE_OUTPUT)},mouseover:function(e){return t.portMouseOver(e,t.FLOW.VIEW.PORT_TYPE_OUTPUT)},mouseout:function(e){return t.portMouseOut(e,t.FLOW.VIEW.PORT_TYPE_OUTPUT)}}})]):t._e()])},M=[],C={name:"FlowNode",props:{value:{type:Object,default:function(){return{id:"",label:"测试",hasInput:!0,hasOutput:!0,iconOnRight:!1,error:!1,changed:!1,status:{show:!1,label:""},rect:{x:100,y:125,w:140,h:30},icon:"",style:{color:"silver"},port:{inputActive:!1,outputActive:!1}}}},selected:{type:Boolean,default:!1}},computed:{width:function(){return this.value.rect.w},height:function(){return this.value.rect.h},x:function(){return this.value.rect.x-this.value.rect.w/2},y:function(){return this.value.rect.y-this.value.rect.h/2}},methods:{portMouseOver:function(t,e){this.$emit("portMouseOver",{event:t,portType:e,d:this.value,portIndex:0})},portMouseOut:function(t,e){this.$emit("portMouseOut",{event:t,portType:e,d:this.value,portIndex:0})},portMouseUp:function(t,e){this.$emit("portMouseUp",{event:t,portType:e,d:this.value,portIndex:0})},portMouseDown:function(t,e){this.$emit("portMouseDown",{event:t,portType:e,d:this.value,portIndex:0})},nodeMouseUp:function(t){this.$emit("nodeMouseUp",{event:t,d:this.value})},nodeMouseDown:function(t){this.$emit("nodeMouseDown",{event:t,d:this.value})}}},T=C,L=(s("cb9d"),Object(u["a"])(T,k,M,!1,null,"71c07444",null)),I=L.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("g",{ref:"thisGroup",staticClass:"flow-group",attrs:{transform:"translate("+t.x+","+t.y+")"}},[s("rect",{staticClass:"node",class:{node_selected:t.selected},attrs:{rx:"5",ry:"5",fill:t.value.style.color,width:t.width,height:t.height},on:{mouseup:t.groupMouseUp,mousedown:t.groupMouseDown}}),t._v(" "),s("g",{staticClass:"node_icon_group",staticStyle:{"pointer-events":"none"},attrs:{x:"0",y:"0",transform:"translate(0,0)"}},[s("rect",{staticClass:"node_icon_shade",attrs:{x:"0",y:"0",width:"30",stroke:"node",fill:"#000","fill-opacity":"0.05",height:"30"}}),t._v(" "),s("image",{staticClass:"node_icon",attrs:{href:t.value.icon,x:"5",y:"0",width:"20",height:"30"}}),t._v(" "),s("path",{staticClass:"node_icon_shade_border",attrs:{d:"M 30 1 l 0 28","stroke-opacity":"0.1",stroke:"#000","stroke-width":"1"}}),t._v(" "),s("text",{staticClass:"node_label",attrs:{x:"38",y:"14",dy:".35em","text-anchor":"start"}},[t._v(t._s(t.value.label))]),t._v(" "),s("text",{staticClass:"node_count",attrs:{x:t.width/2,y:t.height/2,dy:"0.65em","text-anchor":"middle"}},[t._v(t._s(t.nodeCount))])]),t._v(" "),t.value.status&&t.value.status.show?s("g",{staticClass:"node_status_group",attrs:{transform:"translate(3,"+(t.height+3)+")"}},[s("rect",{staticClass:"node_status",attrs:{x:"6",y:"1",width:"9",height:"9",rx:"2",ry:"2","stroke-width":"3"}}),t._v(" "),s("text",{staticClass:"node_status_label",attrs:{x:"20",y:"10"}},[t._v(t._s(t.value.status.label))])]):t._e(),t._v(" "),t.value.error?s("polygon",{staticClass:"node_error",staticStyle:{fill:"red",stroke:"purple","stroke-width":"1"},attrs:{points:t.width-26+",3 "+(t.width-22)+",-5 "+(t.width-18)+",3"}}):t._e(),t._v(" "),t.value.changed?s("circle",{staticClass:"node_changed",attrs:{cx:t.width-10,cy:"-1",r:"4",stroke:"black","stroke-width":"1",fill:"cyan"}}):t._e()])},S=[],P={name:"FlowGroup",props:{value:{type:Object,default:function(){return{id:"",label:"新建分组",error:!1,changed:!1,status:{show:!1,label:""},rect:{x:100,y:125,w:140,h:70},icon:"icons/node-red/folder.png",style:{color:"RGBA(242, 244, 245, 1.00)"}}}},selected:{type:Boolean,default:!1}},computed:{width:function(){return this.value.rect.w},height:function(){return this.value.rect.h},x:function(){return this.value.rect.x-this.value.rect.w/2},y:function(){return this.value.rect.y-this.value.rect.h/2},nodeCount:function(){return this.value.content&&this.value.content.nodes&&this.value.content.nodes.length||0}},methods:{groupMouseUp:function(t){this.$emit("groupMouseUp",{event:t,g:this.value})},groupMouseDown:function(t){this.$emit("groupMouseDown",{event:t,g:this.value})}}},E=P,W=(s("f574"),Object(u["a"])(E,N,S,!1,null,"7be49fda",null)),F=W.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tabs el-tabs--card "},[s("div",{staticClass:"tabs__header"},[s("div",[s("ul",t._l(t.panes,function(e){return s("li",{directives:[{name:"show",rawName:"v-show",value:t.currentName===e.name,expression:"currentName === pane.name"}],key:e.name,staticClass:"tab tab-pinned",staticStyle:{width:"201px"}},[s("a",{staticClass:"tab-label",attrs:{title:"pane.name"}},[s("svg-icon",{attrs:{"icon-class":e.icon||"example"}}),t._v(" "),s("span",{staticClass:"bidiAware"},[t._v(t._s(e.label||e.name))])],1),t._v(" "),s("span",{staticClass:"tabs-badges"})])}),0)]),t._v(" "),s("div",{staticClass:"tab-link-buttons"},t._l(t.panes,function(e){return s("a",{key:e.name,staticClass:"tab-link-button tab-link-pinned",on:{click:function(s){return t.handleTabClick(e,e.name,s)}}},[s("svg-icon",{attrs:{"icon-class":e.icon||"example"}})],1)}),0)]),t._v(" "),s("div",{staticClass:"tabs__content"},[t._t("default")],2)])},G=[],A=(s("7f7f"),{name:"Tabs",componentName:"Tabs",props:{activeName:{type:String,default:null},value:{type:String,default:null}},provide:function(){return{rootTabs:this}},data:function(){return{currentName:this.value||this.activeName,panes:[]}},computed:{},mounted:function(){this.calcPaneInstances()},updated:function(){this.calcPaneInstances()},methods:{handleTabClick:function(t,e,s){t.disabled||(this.setCurrentName(e),this.$emit("tab-click",t,s))},setCurrentName:function(t){var e=this,s=function(){e.currentName=t,e.$emit("input",t)};s()},calcPaneInstances:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.$slots.default){var s=this.$slots.default.filter(function(t){return t.tag&&t.componentOptions&&"TabPane"===t.componentOptions.Ctor.options.name}),n=s.map(function(t){var e=t.componentInstance;return e.$props}),i=!(n.length===this.panes.length&&n.every(function(e,s){return e===t.panes[s]}));(e||i)&&(this.panes=n)}else 0!==this.panes.length&&(this.panes=[])}}}),U=A,j=(s("43b8"),Object(u["a"])(U,D,G,!1,null,"32336c63",null)),R=j.exports,V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return!t.lazy||t.loaded||t.active?s("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"el-tab-pane",attrs:{id:"pane-"+t.paneName,role:"tabpanel","aria-hidden":!t.active,"aria-labelledby":"tab-"+t.paneName}},[t._t("default")],2):t._e()},$=[],K={name:"TabPane",componentName:"TabPane",props:{label:String,labelContent:Function,name:String,closable:Boolean,disabled:Boolean,lazy:Boolean,icon:{type:String,default:"example"}},data:function(){return{index:null,loaded:!1}},computed:{isClosable:function(){return this.closable||this.$parent.closable},active:function(){var t=this.$parent.currentName===(this.name||this.index);return t&&(this.loaded=!0),t},paneName:function(){return this.name||this.index}},updated:function(){this.$parent.$emit("tab-nav-update")}},Y=K,z=Object(u["a"])(Y,V,$,!1,null,null,null),J=z.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tarbar"},t._l(t.itemGroups,function(e){return s("div",{key:e.name,staticClass:"group"},[t._l(e.items,function(e){return s("el-tooltip",{key:e.name,staticClass:"item",attrs:{effect:"dark",content:e.label,placement:"bottom"}},[s("el-button",{staticClass:"command",attrs:{disabled:t.invalid(e.name)},on:{click:function(s){return t.click(e.name)}}},[s("svg-icon",{attrs:{"icon-class":e.name}})],1)],1)}),t._v(" "),s("div",{staticClass:"divider"})],2)}),0)},H=[],Q={name:"TabBar",props:{itemGroups:{type:Array,default:function(){return[{name:"edit",items:[{label:"复制",name:"copy"},{label:"粘贴",name:"paste"},{label:"删除",name:"delete"}]},{name:"group",items:[{label:"添加组",name:"addGroup"},{label:"取消组",name:"ungroup"}]}]}},actives:{type:Object,default:function(){return{copy:!1,paste:!1,delete:!1,addGroup:!1,ungroup:!1}}}},data:function(){return{}},computed:{},methods:{invalid:function(t){return!this.actives[t]},click:function(t){this.$emit("tarbar-action",t)}}},X=Q,q=(s("da53"),Object(u["a"])(X,B,H,!1,null,"bb5969da",null)),Z=q.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"github-corner",attrs:{href:"https://github.com/jigang-duan/vue-flow-editor","aria-label":"在GitHub上查看源代码"}},[s("svg",{attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[s("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),t._v(" "),s("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),t._v(" "),s("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])])},et=[],st=(s("d561"),{}),nt=Object(u["a"])(st,tt,et,!1,null,"0789e495",null),it=nt.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flow-workspace"},[s("header",[s("tarbar",{attrs:{actives:t.tarbarActives},on:{"tarbar-action":t.tarbarAction}}),t._v(" "),s("div",[t._v("...")])],1),t._v(" "),s("div",{ref:"chart",staticClass:"chart",on:{drop:t.drop,dragover:function(t){t.preventDefault()}}},[s("svg",{ref:"outer",staticStyle:{cursor:"crosshair"},attrs:{width:t.spaceWidth,height:t.spaceHeight,"pointer-events":"all"}},[s("g",[s("g",{ref:"vis",staticClass:"innerCanvas",attrs:{transform:"scale("+t.scale+")"},on:{mousemove:t.canvasMouseMove,mousedown:t.canvasMouseDown,mouseup:t.canvasMouseUp}},[s("rect",{staticClass:"outer_background",attrs:{width:t.spaceWidth,height:t.spaceHeight,fill:"#fff"}}),t._v(" "),s("flow-grid",{attrs:{spaceSize:t.spaceWidth,gridSize:t.gridSize}}),t._v(" "),s("g",{staticClass:"connections",attrs:{"pointer-events":"stroke"}},t._l(t.activeLinks,function(e){return s("g",{key:e.id,staticClass:"link",class:{link_selected:t.linkSelected(e)}},[s("path",{staticClass:"link_background link_path",attrs:{d:t._f("LinkPath")(e)},on:{mousedown:function(s){return s.stopPropagation(),t.linkMousedown(s,e)},mouseup:function(s){return s.stopPropagation(),t.linkMouseup(s,e)}}}),t._v(" "),s("path",{staticClass:"link_outline link_path",attrs:{d:t._f("LinkPath")(e)}}),t._v(" "),s("path",{staticClass:"link_line link_path",attrs:{d:t._f("LinkPath")(e)}})])}),0),t._v(" "),s("g",{staticClass:"processors",attrs:{"pointer-events":"all"}},t._l(t.processors,function(e){return s("flow-node",{key:e.id,attrs:{value:e,selected:t.isSelected(e)},on:{portMouseOver:t.portMouseOver,portMouseOut:t.portMouseOut,nodeMouseDown:t.nodeMouseDown,nodeMouseUp:t.nodeMouseUp,portMouseDown:t.portMouseDown,portMouseUp:t.portMouseUp}})}),1),t._v(" "),s("g",{staticClass:"process-groups",attrs:{"pointer-events":"all"}},t._l(t.groups,function(e){return s("flow-group",{key:e.id,attrs:{value:e,selected:t.isSelected(e,!0)},on:{groupMouseDown:t.groupMouseDown,groupMouseUp:t.groupMouseUp}})}),1),t._v(" "),t.lasso.show?s("rect",{staticClass:"lasso",attrs:{ox:t.lasso.ox,oy:t.lasso.oy,rx:"1",ry:"1",x:t.lasso.x,y:t.lasso.y,width:t.lasso.width,height:t.lasso.height}}):t._e(),t._v(" "),s("g",{ref:"dragGroup"},t._l(t.dragLines,function(t,e){return s("path",{key:e,staticClass:"drag_line",attrs:{d:t.d}})}),0)],1)])])]),t._v(" "),s("footer",[s("el-breadcrumb",{staticClass:"breadcrumb",attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/flow"}}},[t._v("flow")])],1),t._v(" "),s("div",{staticClass:"footer-buttons"},[s("el-button",{staticClass:"mini",attrs:{icon:"el-icon-zoom-out"},on:{click:function(e){t.scale-=.1}}}),t._v(" "),s("el-button",{staticClass:"mini",attrs:{icon:"el-icon-rank"},on:{click:function(e){t.scale=1}}}),t._v(" "),s("el-button",{staticClass:"mini",attrs:{icon:"el-icon-zoom-in"},on:{click:function(e){t.scale+=.1}}}),t._v(" "),s("el-button",{staticClass:"mini",attrs:{icon:"el-icon-news"}}),t._v("\n       \n    ")],1)],1)])},at=[],rt=(s("7514"),s("75fc")),ct=(s("20d6"),s("b54a"),s("ac6a"),s("6762"),s("2fdb"),s("96cf"),s("3b8d")),ut=s("cebc"),lt=s("2f62"),dt=function(t){return t>0?t:0},ht=function(t){var e=t.dataTransfer.getData("node_id"),s=t.dataTransfer.getData("node_touch_x"),n=t.dataTransfer.getData("node_touch_y"),i=dt(t.offsetX-s),o=dt(t.offsetY-n);return{typeId:e,x:i,y:o}},pt=function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=(t.pageX-e.getBoundingClientRect().x)/s,i=(t.pageY-e.getBoundingClientRect().y)/s;return{x:n,y:i}},ft=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return pt(t,t.target.parentElement,e)},vt=100,mt=30,gt=.75,_t=function(t,e,s,n,i){var o=n-e,a=s-t,r=Math.sqrt(o*o+a*a),c=gt,u=0;if(a*i>0?r<vt&&(c=.75-(vt-r)/vt*.75):c=.4-.2*Math.max(0,(vt-Math.min(Math.abs(a),Math.abs(o)))/vt),a*i>0)return"M "+t+" "+e+" C "+(t+i*(vt*c))+" "+(e+u*mt)+" "+(s-i*c*vt)+" "+(n-u*mt)+" "+s+" "+n;var l=Math.floor(s-a/2),d=Math.floor(n-o/2);0===o&&(d=n+mt);var h=mt/2,p=(n+d)/2,f=t+i*vt*c,v=o>0?Math.min(p-o/2,e+h):Math.max(p-o/2,e-h),m=s-i*vt*c,g=o>0?Math.max(p,n-h):Math.min(p,n+h),_=(t+f)/2,b=o>0?1:-1,y=[[_,e],[f,o>0?Math.max(e,v-h):Math.min(e,v+h)],[_,o>0?Math.min(d,v+h):Math.max(d,v-h)],[m,o>0?Math.max(d,g-h):Math.min(d,g+h)],[(s+m)/2,n]];return y[2][1]===v+b*h&&(Math.abs(o)<10*h&&(y[1][1]=v-b*h/2,y[3][1]=g-b*h/2),y[2][0]=f),"M "+t+" "+e+" C "+y[0][0]+" "+y[0][1]+" "+y[1][0]+" "+y[1][1]+" "+f+" "+v+" S "+y[2][0]+" "+y[2][1]+" "+l+" "+d+" S "+y[3][0]+" "+y[3][1]+" "+m+" "+g+" S "+y[4][0]+" "+y[4][1]+" "+s+" "+n},bt=function(t,e){var s={};s[t.id]=!0;var n=[t],i=[t],o=function(){var t=i.shift(),o=e.filter(function(e){return e.source.id===t.id||e.target.id===t.id});o.forEach(function(e){var o=e.source.id===t.id?e.target:e.source,a=o.id;a||(a="".concat(o.source.id,":").concat(o.sourcePort,":").concat(o.target.id)),s[a]||(s[a]=!0,n.push(o),i.push(o))})};while(0!==i.length)o();return n},yt=Object(lt["a"])("flow/chat"),wt=yt.mapState,Ot=yt.mapActions,xt={name:"FlowWorkspace",components:{FlowGrid:x,FlowNode:I,FlowGroup:F,Tarbar:Z},filters:{LinkPath:function(t){var e=t.source,s=t.target,n=1,i=e.rect.x+n*e.rect.w/2,o=e.rect.y,a=s.rect.x-n*s.rect.w/2,r=s.rect.y;return _t(i,o,a,r,n)}},data:function(){return{spaceWidth:5e3,spaceHeight:5e3,scale:1,gridSize:20,mouseMode:this.FLOW.state.DEFAULT,movingSet:[],selectedLink:null,dragLines:[],lasso:{show:!1,ox:0,oy:0,x:0,y:0,width:0,height:0},copySet:[]}},computed:Object(ut["a"])({},wt({processors:function(t){return t.processors},remoteLinks:function(t){return t.links},groups:function(t){return t.groups}}),{activeLinks:function(){return this.remoteLinks},movingGroups:function(){return this.movingSet.filter(function(t){return t.g})},movingNodes:function(){return this.movingSet.filter(function(t){return t.n})},tarbarActives:function(){var t=!!this.selectedLink||this.movingSet&&this.movingSet.length,e=this.movingSet&&this.movingNodes.length,s=this.copySet&&this.copySet.length,n=this.canAddGroup(),i=this.movingSet&&this.movingGroups.length;return{copy:e,paste:s,delete:t,addGroup:n,ungroup:i}}}),mounted:function(){this.getProcessors(),this.mousedownPortType=null,this.quickAddLink=null,this.mousedownNode=null},methods:Object(ut["a"])({},Ot({getProcessors:"getProcessors",newProcessor:"newProcessor",removeProcessors:"removeProcessors",cloneProcessors:"cloneProcessors",setActiveLinks:"setRemoteLinks",addGroup:"addGroup",ungroup:"ungroup",removeGroups:"removeGroups"}),{drop:function(t){var e=ht(t),s=e.typeId,n=e.x,i=e.y,o=this.spaceWidth,a=this.spaceHeight;this.newProcessor({typeId:s,x:n,y:i,maxX:o,maxY:a})},tarbarAction:function(){var t=Object(ct["a"])(regeneratorRuntime.mark(function t(e){var s,n,i,o,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if("delete"!==e){t.next=5;break}this.deleteNodesAndLines(),this.movingSet&&this.movingSet.length&&(s=this.movingGroups.map(function(t){return t.g}),this.removeGroups(s)),t.next=15;break;case 5:if("copy"!==e){t.next=9;break}this.copySet=this.movingNodes.map(function(t){return t.n}),t.next=15;break;case 9:if("paste"!==e){t.next=14;break}return t.next=12,this.cloneNodes();case 12:t.next=15;break;case 14:"addGroup"===e?(n=this.movingNodes.map(function(t){return t.n}),i=n.map(function(t){return t.id}),o=this.activeLinks.filter(function(t){return i.includes(t.source.id)&&i.includes(t.target.id)}),this.addGroup({nodes:n,links:o}),this.movingSet=[]):"ungroup"===e&&(a=this.movingSet.map(function(t){return t.g}),this.ungroup(a));case 15:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),linkMousedown:function(t,e){this.mousedownLink=e,this.clearSelection(),this.selectedLink=e},linkMouseup:function(t,e){},canvasMouseMove:function(t){var e=this;if(this.mouseMode!==this.FLOW.state.PANNING){if(this.mousePosition=pt(t,this.$refs.vis,this.scale),this.lasso.show){var s,n,i=this.lasso.ox,o=this.lasso.oy,a=this.lasso.x,r=this.lasso.y;return this.mousePosition.x<i?(a=this.mousePosition.x,s=i-a):s=this.mousePosition.x-a,this.mousePosition.y<o?(r=this.mousePosition.y,n=o-r):n=this.mousePosition.y-r,this.lasso.x=a,this.lasso.y=r,this.lasso.width=s,void(this.lasso.height=n)}var c;if(this.mouseMode===this.FLOW.state.JOINING||this.mouseMode===this.FLOW.state.QUICK_JOINING)0===this.dragLines.length&&null!==this.mousedownPortType&&(t.shiftKey?console.info("DTDO"):this.mousedownNode&&!this.quickAddLink&&this.showDragLines([{node:this.mousedownNode,portType:this.mousedownPortType,port:this.mousedownPortIndex}]),this.selectedLink=null),c=this.mousePosition,this.dragLines=this.dragLines.map(function(t){var s=t.portType===e.FLOW.VIEW.PORT_TYPE_OUTPUT&&t.node.outputs||1,n=t.port,i=-(s-1)/2*13+13*n,o=t.portType===e.FLOW.VIEW.PORT_TYPE_OUTPUT?1:-1,a=t.node.rect.x+o*t.node.rect.w/2,r=t.node.rect.y+i,u=_t(a,r,c.x,c.y,o);return Object(ut["a"])({},t,{d:u})}),t.preventDefault();else if(this.mouseMode===this.FLOW.state.MOVING){c=pt(t,document.body,this.scale);var u=(this.mouseOffset.x-c.x)*(this.mouseOffset.x-c.x)+(this.mouseOffset.y-c.y)*(this.mouseOffset.y-c.y);u>3&&(this.mouseMode=this.FLOW.state.MOVING_ACTIVE)}else this.mouseMode!==this.FLOW.state.MOVING_ACTIVE&&this.mouseMode!==this.FLOW.state.IMPORT_DRAGGING||(c=this.mousePosition,this.moveNode(c),this.moveNode(c,!0))}else console.debug("DTDO")},moveNode:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=s?"g":"n",i=0,o=0,a=this.spaceWidth,r=this.spaceHeight,c=this.movingSet.filter(function(t){return t[n]});c.forEach(function(e){event.shiftKey&&(e[n].ox=e[n].x,e[n].oy=e[n].y),e[n].rect.x=t.x+e.dx,e[n].rect.y=t.y+e.dy,i=Math.min(e[n].rect.x-e[n].rect.w/2-5,i),o=Math.min(e[n].rect.y-e[n].rect.h/2-5,o),a=Math.max(e[n].rect.x+e[n].rect.w/2+5,a),r=Math.max(e[n].rect.y+e[n].rect.h/2+5,r)}),0===i&&0===o||c.forEach(function(t){t[n].rect.x-=i,t[n].rect.y-=o}),a===this.spaceWidth&&r===this.spaceHeight||c.forEach(function(t){t[n].rect.x-=a-e.spaceWidth,t[n].rect.y-=r-e.spaceHeight})},canvasMouseDown:function(t){var e;if(2===t.button)return console.debug("DTDO"),t.preventDefault(),void t.stopPropagation();this.mousedownNode||this.mousedownLink||console.debug("DTDO"),this.mouseMode===this.FLOW.state.DEFAULT&&(this.lasso.show=!1),this.mouseMode!==this.FLOW.state.DEFAULT&&this.mouseMode!==this.FLOW.state.QUICK_JOINING||console.debug("DTDO"),this.mouseMode!==this.FLOW.state.DEFAULT||t.metaKey||t.ctrlKey||this.touchStartTime||(e=pt(t,this.$refs.vis,this.scale),this.lasso.ox=e.x,this.lasso.oy=e.y,this.lasso.x=e.x,this.lasso.y=e.y,this.lasso.width=0,this.lasso.height=0,this.lasso.show=!0,t.preventDefault())},canvasMouseUp:function(t){var e=this;if(this.mouseMode!==this.FLOW.state.PANNING){if(this.mouseMode!==this.FLOW.state.QUICK_JOINING){if(this.mousedownNode&&this.mouseMode===this.FLOW.state.JOINING){var s=this.dragLines.filter(function(t){return t.link}).map(function(t){return t.link});console.debug(s),this.hideDragLines()}if(this.lasso.show){var n=this.lasso.x,i=this.lasso.y,o=this.lasso.x+this.lasso.width,a=this.lasso.y+this.lasso.height;t.ctrlKey||this.clearSelection(),this.processors.forEach(function(t){if(!e.isSelected(t)){var s=t.rect.x>n&&t.rect.x<o&&t.rect.y>i&&t.rect.y<a;s&&(e.movingSet.push({n:t}),e.copySet=[])}}),this.groups.forEach(function(t){if(!e.isSelected(t,!0)){var s=t.rect.x>n&&t.rect.x<o&&t.rect.y>i&&t.rect.y<a;s&&(e.movingSet.push({g:t}),e.copySet=[])}}),this.lasso.show=!1}else this.mouseMode===this.FLOW.state.DEFAULT&&this.clearSelection();this.mouseMode===this.FLOW.state.MOVING_ACTIVE&&this.movingSet.length>0&&console.info("DOTO"),this.mouseMode!==this.FLOW.state.MOVING&&this.mouseMode!==this.FLOW.state.MOVING_ACTIVE||this.movingSet.forEach(function(t){delete t.ox,delete t.oy}),this.resetMouseVars()}}else this.resetMouseVars()},portMouseOver:function(t){var e=t.event,s=t.portType,n=t.d;t.portIndex;if((this.mouseMode===this.FLOW.state.JOINING||this.mouseMode===this.FLOW.state.QUICK_JOINING)&&this.dragLines&&this.dragLines.length>0){var i=!1;if(this.dragLines.forEach(function(t){s!==t.portType&&n.id!==t.node.id&&(i=!0)}),!i)return e.stopPropagation(),void e.preventDefault()}this.FLOW.VIEW.PORT_TYPE_OUTPUT===s?n.port.outputActive=!0:this.FLOW.VIEW.PORT_TYPE_INPUT===s&&(n.port.inputActive=!0),e.stopPropagation(),e.preventDefault()},portMouseOut:function(t){var e=t.event,s=t.portType,n=t.d;t.portIndex;this.FLOW.VIEW.PORT_TYPE_OUTPUT===s?n.port.outputActive&&(n.port.outputActive=!1):this.FLOW.VIEW.PORT_TYPE_INPUT===s&&n.port.inputActive&&(n.port.inputActive=!1),e.stopPropagation(),e.preventDefault()},portMouseDown:function(t){var e=t.event,s=t.portType,n=t.d,i=t.portIndex;1!==e.button&&(this.mousedownNode=n,this.mousedownPortType=s,this.mousedownPortIndex=i||0,this.mouseMode!==this.FLOW.state.QUICK_JOINING&&(this.mouseMode=this.FLOW.state.JOINING,(e.ctrlKey||e.metaKey)&&console.info("DOTO")),e.stopPropagation(),e.preventDefault())},portMouseUp:function(t){var e=this,s=t.event,n=t.portType,i=t.d,o=t.portIndex;if(this.mouseMode===this.FLOW.state.QUICK_JOINING&&this.dragLines&&this.dragLines.length>0&&console.info("DOTO"),this.mouseMode===this.FLOW.state.JOINING||this.mouseMode===this.FLOW.state.QUICK_JOINING){"undefined"!==typeof TouchEvent&&s instanceof TouchEvent?console.info("DOTO"):this.mouseupNode=i;var a=[];this.dragLines.forEach(function(t){if(n!==t.portType&&e.mouseupNode.id!==t.node.id){var s,i,r;t.portType===e.FLOW.VIEW.PORT_TYPE_OUTPUT?(s=t.node,r=t.port,i=e.mouseupNode):t.portType===e.FLOW.VIEW.PORT_TYPE_INPUT&&(s=e.mouseupNode,i=t.node,r=o);var c="".concat(s.id,":").concat(r,":").concat(i.id),u={id:c,source:s,sourcePort:r,target:i};t.virtualLink?console.info("DOTO"):-1===e.activeLinks.findIndex(function(t){return t.id===u.id})&&(a=[].concat(Object(rt["a"])(a),[u]))}}),this.setActiveLinks([].concat(Object(rt["a"])(this.activeLinks),Object(rt["a"])(a)))}this.resetMouseVars(),this.hideDragLines(),s.preventDefault()},nodeMouseUp:function(t){var e=t.event,s=t.d;if(s.id===this.mousedownNode.id)return this.mouseMode=this.FLOW.state.DEFAULT,void e.stopPropagation()},nodeMouseDown:function(t){var e=this,s=t.event,n=t.d;if(this.mousedownNode=n,this.isSelected(n)&&(s.ctrlKey||s.metaKey))this.movingSet=this.movingSet.filter(function(t){return(t.n&&t.n.id)!==e.mousedownNode.id}),this.copySet=[];else{if(s.shiftKey){this.clearSelection();var i=bt(this.mousedownNode,this.activeLinks);i.forEach(function(t){e.movingSet.push({n:t})}),this.copySet=[]}else this.isSelected(n)||(s.ctrlKey||s.metaKey||this.clearSelection(),this.movingSet.push({n:this.mousedownNode}),this.copySet=[]);if(this.selectedLink=null,2!==s.button){this.mouseMode=this.FLOW.state.MOVING;var o=ft(s,this.scale);o.x=o.x+n.rect.x-n.rect.w/2,o.y=o.y+n.rect.y-n.rect.h/2,this.movingSet.forEach(function(t){var e=t.n?"n":t.g&&"g";e&&(t.ox=t[e].rect.x,t.oy=t[e].rect.y,t.dx=t[e].rect.x-o.x,t.dy=t[e].rect.y-o.y)}),this.mouseOffset=pt(s,document.body,this.scale)}}s.stopPropagation()},groupMouseUp:function(t){var e=t.event,s=t.g;if(s.id===this.mousedownGroup.id)return this.mouseMode=this.FLOW.state.DEFAULT,void e.stopPropagation()},groupMouseDown:function(t){var e=this,s=t.event,n=t.g;this.mousedownGroup=n;var i=function(t){return e.isSelected(t,!0)};if(i(n)&&(s.ctrlKey||s.metaKey))this.movingSet=this.movingSet.filter(function(t){return(t.g&&t.g.id)!==e.mousedownGroup.id});else if(i(n)||(s.ctrlKey||s.metaKey||this.clearSelection(),this.movingSet.push({g:this.mousedownGroup}),this.copySet=[]),this.selectedLink=null,2!==s.button){this.mouseMode=this.FLOW.state.MOVING;var o=ft(s,this.scale);o.x=o.x+n.rect.x-n.rect.w/2,o.y=o.y+n.rect.y-n.rect.h/2,this.movingSet.forEach(function(t){var e=t.n?"n":t.g&&"g";e&&(t.ox=t[e].rect.x,t.oy=t[e].rect.y,t.dx=t[e].rect.x-o.x,t.dy=t[e].rect.y-o.y)}),this.mouseOffset=pt(s,document.body,this.scale)}s.stopPropagation()},clearSelection:function(){this.movingSet=[],this.selectedLink=null},showDragLines:function(t){this.dragLines=[].concat(Object(rt["a"])(this.dragLines),Object(rt["a"])(t))},hideDragLines:function(){this.dragLines=[]},resetMouseVars:function(){this.mousedownNode=null,this.mousedownGroup=null,this.mouseupNode=null,this.mousedownLink=null,this.mouseMode=this.FLOW.state.DEFAULT,this.mousedownPortType=null,this.activeSpliceLink=null,this.spliceActive=!1},linkSelected:function(t){return this.selectedLink&&this.selectedLink.id===t.id},isSelected:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=e?"g":"n";return this.movingSet.filter(function(t){return t[s]}).map(function(t){return t[s].id}).includes(t.id)},cloneNodes:function(){var t=Object(ct["a"])(regeneratorRuntime.mark(function t(){var e,s,n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.copySet.map(function(t){return t.id}),t.next=3,this.cloneProcessors(this.copySet);case 3:s=t.sent,this.movingSet=s.map(function(t){return{n:t}}),n=this.activeLinks.filter(function(t){return e.includes(t.source.id)&&e.includes(t.target.id)}),i=n.map(function(t){var e=s.find(function(e){return e.cloneId===t.source.id}),n=s.find(function(e){return e.cloneId===t.target.id}),i=t.sourcePort,o="".concat(e.id,":").concat(i,":").concat(n.id);return{id:o,source:e,sourcePort:i,target:n}}),this.setActiveLinks([].concat(Object(rt["a"])(this.activeLinks),Object(rt["a"])(i))),this.copySet=[];case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),deleteNodesAndLines:function(){var t=this;if(this.selectedLink&&(this.setActiveLinks(this.activeLinks.filter(function(e){return e.id!==t.selectedLink.id})),this.selectedLink=null),this.movingSet&&this.movingSet.length){var e=this.movingNodes.map(function(t){return t.n.id});this.setActiveLinks(this.activeLinks.filter(function(t){return!(e.includes(t.source.id)||e.includes(t.target.id))})),this.removeProcessors(this.movingNodes.map(function(t){return t.n})),this.movingSet=[],this.copySet=[]}},canAddGroup:function(){if(this.movingSet){var t=this.movingNodes.map(function(t){return t.n});if(t.length){var e=t.map(function(t){return t.id}),s=this.activeLinks.filter(function(t){var s=e.includes(t.source.id),n=e.includes(t.target.id);return s&&!n||!s&&n});if(0===s.length)return!0}}return!1}})},kt=xt,Mt=(s("c934"),Object(u["a"])(kt,ot,at,!1,null,"1c03ef86",null)),Ct=Mt.exports,Tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flow-palette"},[s("el-input",{attrs:{placeholder:"过滤节点","prefix-icon":"el-icon-search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),s("div",{staticClass:"scroll"},[s("el-collapse",{model:{value:t.activeGroupIDs,callback:function(e){t.activeGroupIDs=e},expression:"activeGroupIDs"}},t._l(t.filterGroups,function(e){return s("el-collapse-item",{key:e.id,attrs:{title:e.title,name:e.id}},t._l(e.nodes,function(t){return s("palette-node",{key:t.id,attrs:{data:t}})}),1)}),1)],1),t._v(" "),s("div",{staticClass:"footer"},[s("el-button",{staticClass:"mini",attrs:{icon:"el-icon-arrow-up"},on:{click:t.closeAll}}),t._v(" "),s("el-button",{staticClass:"mini",attrs:{icon:"el-icon-arrow-down"},on:{click:t.openAll}})],1)],1)},Lt=[],It=(s("386d"),Object(lt["a"])("flow/type")),Nt=It.mapState,St=It.mapActions,Pt={name:"FlowPalette",components:{PaletteNode:g},data:function(){return{activeGroupIDs:[],search:""}},computed:Object(ut["a"])({},Nt({groups:function(t){return t.groups}}),{filterGroups:function(){var t=this;return this.search&&this.groups.map(function(e){return Object(ut["a"])({},e,{nodes:e.nodes.filter(function(e){return e.name.includes(t.search)})})})||this.groups}}),watch:{search:function(t){this.activeGroupIDs=this.filterGroups.map(function(t){return t.id})}},mounted:function(){this.getGroups()},methods:Object(ut["a"])({},St({getGroups:"getGroups"}),{openAll:function(){this.activeGroupIDs=this.groups.map(function(t){return t.id})},closeAll:function(){this.activeGroupIDs=[]}})},Et=Pt,Wt=(s("999d"),s("7ee1"),Object(u["a"])(Et,Tt,Lt,!1,null,"532293f4",null)),Ft=Wt.exports,Dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flow-sidebar"},[s("tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("tab-pane",{attrs:{name:"info",label:"信息",icon:"info"}},[t._v("\n      ...\n    ")]),t._v(" "),s("tab-pane",{attrs:{name:"config",label:"配置",icon:"settings"}},[t._v("\n      ...\n    ")])],1),t._v(" "),s("footer")],1)},Gt=[],At={name:"FlowSidebar",components:{Tabs:R,TabPane:J},data:function(){return{tab:"info"}},computed:{},methods:{}},Ut=At,jt=(s("7510"),Object(u["a"])(Ut,Dt,Gt,!1,null,"f9a87e40",null)),Rt=jt.exports,Vt={name:"Flow",components:{Workspace:Ct,Palette:Ft,Sidebar:Rt,Layout:d,GithubCorner:it},data:function(){return{}},methods:{}},$t=Vt,Kt=(s("03bd"),Object(u["a"])($t,n,i,!1,null,"7650e258",null));e["default"]=Kt.exports},"71d0":function(t,e,s){},7510:function(t,e,s){"use strict";var n=s("752c"),i=s.n(n);i.a},7514:function(t,e,s){"use strict";var n=s("5ca1"),i=s("0a49")(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),n(n.P+n.F*a,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(o)},"752c":function(t,e,s){},7947:function(t,e,s){},"7ee1":function(t,e,s){"use strict";var n=s("a999"),i=s.n(n);i.a},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"84aa":function(t,e,s){"use strict";var n=s("6233"),i=s.n(n);i.a},"8b97":function(t,e,s){var n=s("d3f4"),i=s("cb7c"),o=function(t,e){if(i(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=s("9b43")(Function.call,s("11e9").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,s){return o(t,s),e?t.__proto__=s:n(t,s),t}}({},!1):void 0),check:o}},"999d":function(t,e,s){"use strict";var n=s("d683"),i=s.n(n);i.a},a376:function(t,e,s){},a3e4:function(t,e,s){},a999:function(t,e,s){},aa77:function(t,e,s){var n=s("5ca1"),i=s("be13"),o=s("79e5"),a=s("fdef"),r="["+a+"]",c="​",u=RegExp("^"+r+r+"*"),l=RegExp(r+r+"*$"),d=function(t,e,s){var i={},r=o(function(){return!!a[t]()||c[t]()!=c}),u=i[t]=r?e(h):a[t];s&&(i[s]=u),n(n.P+n.F*r,"String",i)},h=d.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=d},b54a:function(t,e,s){"use strict";s("386b")("link",function(t){return function(e){return t(this,"a","href",e)}})},c5f6:function(t,e,s){"use strict";var n=s("7726"),i=s("69a8"),o=s("2d95"),a=s("5dbc"),r=s("6a99"),c=s("79e5"),u=s("9093").f,l=s("11e9").f,d=s("86cc").f,h=s("aa77").trim,p="Number",f=n[p],v=f,m=f.prototype,g=o(s("2aeb")(m))==p,_="trim"in String.prototype,b=function(t){var e=r(t,!1);if("string"==typeof e&&e.length>2){e=_?e.trim():h(e,3);var s,n,i,o=e.charCodeAt(0);if(43===o||45===o){if(s=e.charCodeAt(2),88===s||120===s)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+e}for(var a,c=e.slice(2),u=0,l=c.length;u<l;u++)if(a=c.charCodeAt(u),a<48||a>i)return NaN;return parseInt(c,n)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,s=this;return s instanceof f&&(g?c(function(){m.valueOf.call(s)}):o(s)!=p)?a(new v(b(e)),s,f):b(e)};for(var y,w=s("9e1e")?u(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;w.length>O;O++)i(v,y=w[O])&&!i(f,y)&&d(f,y,l(v,y));f.prototype=m,m.constructor=f,s("2aba")(n,p,f)}},c934:function(t,e,s){"use strict";var n=s("2e82"),i=s.n(n);i.a},cb9d:function(t,e,s){"use strict";var n=s("f7510"),i=s.n(n);i.a},cd1c:function(t,e,s){var n=s("e853");t.exports=function(t,e){return new(n(t))(e)}},d561:function(t,e,s){"use strict";var n=s("a376"),i=s.n(n);i.a},d683:function(t,e,s){},da53:function(t,e,s){"use strict";var n=s("71d0"),i=s.n(n);i.a},e853:function(t,e,s){var n=s("d3f4"),i=s("1169"),o=s("2b4c")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),n(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},f574:function(t,e,s){"use strict";var n=s("7947"),i=s.n(n);i.a},f7510:function(t,e,s){},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);